{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/frontend/data/mock/members.json"],"sourcesContent":["[{\"id\":\"1\",\"name\":\"Rohit Sharma\",\"email\":\"rohit@example.com\",\"health_score\":82,\"lifetime_value\":180,\"next_renewal_date\":\"2025-12-05\",\"last_login_at\":\"2025-10-21\",\"status\":\"healthy\"},{\"id\":\"mem-001\",\"name\":\"John Doe\",\"email\":\"john.doe@example.com\",\"status\":\"active\",\"lastActive\":\"2025-05-15T14:30:00Z\",\"joinDate\":\"2024-01-10T09:15:00Z\",\"healthScore\":85,\"segment\":\"high_value\",\"tags\":[\"premium\",\"engaged\"],\"metadata\":{\"plan\":\"enterprise\",\"teamSize\":5}},{\"id\":\"mem-002\",\"name\":\"Jane Smith\",\"email\":\"jane.smith@example.com\",\"status\":\"at_risk\",\"lastActive\":\"2025-04-20T11:45:00Z\",\"joinDate\":\"2023-11-05T14:20:00Z\",\"healthScore\":42,\"segment\":\"mid_value\",\"tags\":[\"trial\"],\"metadata\":{\"plan\":\"pro\",\"teamSize\":2}},{\"id\":\"mem-003\",\"name\":\"Alex Johnson\",\"email\":\"alex.j@example.com\",\"status\":\"churned\",\"lastActive\":\"2025-03-01T16:20:00Z\",\"joinDate\":\"2024-02-15T10:30:00Z\",\"healthScore\":15,\"segment\":\"low_value\",\"tags\":[\"inactive\",\"churned\"],\"metadata\":{\"plan\":\"basic\",\"churnReason\":\"found_alternative\"}},{\"id\":\"mem-004\",\"name\":\"Sarah Williams\",\"email\":\"sarah.w@example.com\",\"status\":\"active\",\"lastActive\":\"2025-05-18T08:15:00Z\",\"joinDate\":\"2024-03-22T13:45:00Z\",\"healthScore\":92,\"segment\":\"high_value\",\"tags\":[\"enterprise\",\"power_user\"],\"metadata\":{\"plan\":\"enterprise\",\"teamSize\":12}},{\"id\":\"mem-005\",\"name\":\"Michael Brown\",\"email\":\"michael.b@example.com\",\"status\":\"inactive\",\"lastActive\":\"2025-04-05T17:30:00Z\",\"joinDate\":\"2024-01-28T11:20:00Z\",\"healthScore\":28,\"segment\":\"mid_value\",\"tags\":[\"inactive_30_days\"],\"metadata\":{\"plan\":\"pro\",\"teamSize\":3}}]"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 3, "column": 1568}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/frontend/data/mock/campaigns.json"],"sourcesContent":["[{\"id\":\"camp_001\",\"name\":\"Welcome Back Campaign\",\"status\":\"active\",\"type\":\"email\",\"targetSegment\":\"inactive_30_days\",\"startDate\":\"2023-11-01T00:00:00Z\",\"endDate\":\"2023-12-31T23:59:59Z\",\"createdAt\":\"2023-10-25T10:30:00Z\",\"updatedAt\":\"2023-10-30T15:45:00Z\",\"metrics\":{\"sent\":1250,\"delivered\":1200,\"opened\":850,\"clicked\":420,\"converted\":210,\"bounceRate\":4.0,\"openRate\":70.8,\"clickThroughRate\":35.0,\"conversionRate\":17.5}},{\"id\":\"camp_002\",\"name\":\"Black Friday Special\",\"status\":\"completed\",\"type\":\"email\",\"targetSegment\":\"all_active\",\"startDate\":\"2023-11-20T00:00:00Z\",\"endDate\":\"2023-11-27T23:59:59Z\",\"createdAt\":\"2023-11-15T09:15:00Z\",\"updatedAt\":\"2023-11-28T10:20:00Z\",\"metrics\":{\"sent\":3500,\"delivered\":3420,\"opened\":2800,\"clicked\":1500,\"converted\":750,\"bounceRate\":2.3,\"openRate\":81.9,\"clickThroughRate\":43.9,\"conversionRate\":21.9}},{\"id\":\"camp_003\",\"name\":\"App Engagement Push\",\"status\":\"active\",\"type\":\"push\",\"targetSegment\":\"mobile_users\",\"startDate\":\"2023-11-15T00:00:00Z\",\"endDate\":\"2023-12-15T23:59:59Z\",\"createdAt\":\"2023-11-10T14:20:00Z\",\"updatedAt\":\"2023-11-10T14:20:00Z\",\"metrics\":{\"sent\":1800,\"delivered\":1750,\"opened\":1200,\"clicked\":900,\"converted\":450,\"bounceRate\":2.8,\"openRate\":68.6,\"clickThroughRate\":51.4,\"conversionRate\":25.7}},{\"id\":\"camp_004\",\"name\":\"Winback Special Offer\",\"status\":\"draft\",\"type\":\"email\",\"targetSegment\":\"churned_60_days\",\"createdAt\":\"2023-11-05T11:30:00Z\",\"updatedAt\":\"2023-11-05T11:30:00Z\"},{\"id\":\"camp_005\",\"name\":\"Year End Review\",\"status\":\"paused\",\"type\":\"email\",\"targetSegment\":\"active_6_months\",\"startDate\":\"2023-12-20T00:00:00Z\",\"endDate\":\"2023-12-31T23:59:59Z\",\"createdAt\":\"2023-11-01T16:45:00Z\",\"updatedAt\":\"2023-11-10T10:15:00Z\"}]"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 6, "column": 1706}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 9, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/frontend/data/mock/exit-surveys.json"],"sourcesContent":["[{\"id\":\"es_001\",\"memberId\":\"mem_001\",\"reason\":\"too_expensive\",\"feedback\":\"I really liked the service, but it's a bit too expensive for me right now. Would love to come back if there are any discounts in the future.\",\"rating\":4,\"submittedAt\":\"2023-11-05T14:30:22Z\",\"metadata\":{\"plan\":\"premium\",\"usageMonths\":8,\"suggestedPrice\":19.99}},{\"id\":\"es_002\",\"memberId\":\"mem_003\",\"reason\":\"missing_features\",\"feedback\":\"The product is good but lacks some key features that I need for my workflow, especially in the analytics dashboard.\",\"rating\":3,\"submittedAt\":\"2023-11-07T09:15:10Z\",\"metadata\":{\"plan\":\"business\",\"usageMonths\":3,\"requestedFeatures\":[\"custom reports\",\"API access\"]}},{\"id\":\"es_003\",\"memberId\":\"mem_007\",\"reason\":\"found_better_alternative\",\"feedback\":\"I found another service that better suits my needs at the moment.\",\"rating\":2,\"submittedAt\":\"2023-11-08T16:45:33Z\"},{\"id\":\"es_004\",\"memberId\":\"mem_012\",\"reason\":\"too_expensive\",\"feedback\":\"The price increase was too steep for me to continue. The service is great, but not at this price point.\",\"rating\":3,\"submittedAt\":\"2023-11-10T11:20:15Z\",\"metadata\":{\"plan\":\"pro\",\"usageMonths\":12,\"previousPrice\":29.99,\"newPrice\":49.99}},{\"id\":\"es_005\",\"memberId\":\"mem_015\",\"reason\":\"too_complicated\",\"feedback\":\"The platform has too many features that I don't use, which makes it feel cluttered and hard to navigate.\",\"rating\":2,\"submittedAt\":\"2023-11-12T14:10:45Z\"},{\"id\":\"es_006\",\"memberId\":\"mem_018\",\"reason\":\"customer_service\",\"feedback\":\"I had several issues that weren't resolved by customer support in a timely manner, which affected my business.\",\"rating\":1,\"submittedAt\":\"2023-11-15T10:05:18Z\"},{\"id\":\"es_007\",\"memberId\":\"mem_022\",\"reason\":\"temporary\",\"feedback\":\"I'm taking a break for now but plan to return in a few months. I'll be back!\",\"rating\":5,\"submittedAt\":\"2023-11-18T13:25:30Z\",\"metadata\":{\"plan\":\"premium\",\"usageMonths\":6,\"expectedReturn\":\"Q1 2024\"}}]"],"names":[],"mappings":"AAAA"}},
    {"offset": {"line": 9, "column": 1946}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ABHINAV%20KUMAR/winback-engine/frontend/lib/mock-api.ts"],"sourcesContent":["import members from \"../data/mock/members.json\";\nimport campaigns from \"../data/mock/campaigns.json\";\nimport exitSurveys from \"../data/mock/exit-surveys.json\";\nimport { Member, Campaign, ExitSurvey } from \"./types\";\n\n// Members\nexport async function getMembers() {\n  await new Promise(r => setTimeout(r, 200));\n  return { data: members as Member[] };\n}\n\nexport async function getMember(id: string) {\n  await new Promise(r => setTimeout(r, 200));\n  const member = (members as Member[]).find(m => m.id === id) ?? null;\n  return { data: member };\n}\n\n// Campaigns\nexport async function getCampaigns() {\n  await new Promise(r => setTimeout(r, 300));\n  return { data: campaigns as Campaign[] };\n}\n\nexport async function getCampaign(id: string) {\n  await new Promise(r => setTimeout(r, 200));\n  const campaign = (campaigns as Campaign[]).find(c => c.id === id) ?? null;\n  return { data: campaign };\n}\n\n// Exit Surveys\nexport async function getExitSurveys() {\n  await new Promise(r => setTimeout(r, 250));\n  return { data: exitSurveys as ExitSurvey[] };\n}\n\nexport async function getExitSurvey(id: string) {\n  await new Promise(r => setTimeout(r, 200));\n  const survey = (exitSurveys as ExitSurvey[]).find(s => s.id === id) ?? null;\n  return { data: survey };\n}\n\nexport const mockApi = {\n  members: {\n    getMembers,\n    getMember,\n  },\n  campaigns: {\n    getCampaigns,\n    getCampaign,\n  },\n  exitSurveys: {\n    getExitSurveys,\n    getExitSurvey,\n  }\n};\n\nexport default mockApi;\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;;;;AAIO,eAAe;IACpB,MAAM,IAAI,QAAQ,CAAA,IAAK,WAAW,GAAG;IACrC,OAAO;QAAE,MAAM,sHAAO;IAAa;AACrC;AAEO,eAAe,UAAU,EAAU;IACxC,MAAM,IAAI,QAAQ,CAAA,IAAK,WAAW,GAAG;IACrC,MAAM,SAAS,AAAC,sHAAO,CAAc,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,OAAO;IAC/D,OAAO;QAAE,MAAM;IAAO;AACxB;AAGO,eAAe;IACpB,MAAM,IAAI,QAAQ,CAAA,IAAK,WAAW,GAAG;IACrC,OAAO;QAAE,MAAM,wHAAS;IAAe;AACzC;AAEO,eAAe,YAAY,EAAU;IAC1C,MAAM,IAAI,QAAQ,CAAA,IAAK,WAAW,GAAG;IACrC,MAAM,WAAW,AAAC,wHAAS,CAAgB,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,OAAO;IACrE,OAAO;QAAE,MAAM;IAAS;AAC1B;AAGO,eAAe;IACpB,MAAM,IAAI,QAAQ,CAAA,IAAK,WAAW,GAAG;IACrC,OAAO;QAAE,MAAM,8HAAW;IAAiB;AAC7C;AAEO,eAAe,cAAc,EAAU;IAC5C,MAAM,IAAI,QAAQ,CAAA,IAAK,WAAW,GAAG;IACrC,MAAM,SAAS,AAAC,8HAAW,CAAkB,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK,OAAO;IACvE,OAAO;QAAE,MAAM;IAAO;AACxB;AAEO,MAAM,UAAU;IACrB,SAAS;QACP;QACA;IACF;IACA,WAAW;QACT;QACA;IACF;IACA,aAAa;QACX;QACA;IACF;AACF;uCAEe","debugId":null}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ABHINAV%20KUMAR/winback-engine/frontend/lib/mock-dashboard.ts"],"sourcesContent":["import { DashboardMetrics, HealthDistribution, ChurnTrendPoint } from './types';\n\ninterface DashboardData {\n  metrics: DashboardMetrics;\n  distribution: HealthDistribution;\n  churnTrend: ChurnTrendPoint[];\n}\n\nexport async function getDashboard(): Promise<DashboardData> {\n  await new Promise(r => setTimeout(r, 200)); // Simulate network delay\n  \n  return {\n    metrics: {\n      churnRate: 0.084,\n      atRiskCount: 27,\n      avgHealthScore: 67,\n      revenueSaved: 1240,\n    },\n    distribution: {\n      healthy: 120,\n      at_risk: 45,\n      critical: 19,\n    },\n    churnTrend: [\n      { month: \"Jun\", churnPct: 0.12 },\n      { month: \"Jul\", churnPct: 0.11 },\n      { month: \"Aug\", churnPct: 0.10 },\n      { month: \"Sep\", churnPct: 0.09 },\n      { month: \"Oct\", churnPct: 0.084 },\n    ],\n  };\n}\n"],"names":[],"mappings":";;;;AAQO,eAAe;IACpB,MAAM,IAAI,QAAQ,CAAA,IAAK,WAAW,GAAG,OAAO,yBAAyB;IAErE,OAAO;QACL,SAAS;YACP,WAAW;YACX,aAAa;YACb,gBAAgB;YAChB,cAAc;QAChB;QACA,cAAc;YACZ,SAAS;YACT,SAAS;YACT,UAAU;QACZ;QACA,YAAY;YACV;gBAAE,OAAO;gBAAO,UAAU;YAAK;YAC/B;gBAAE,OAAO;gBAAO,UAAU;YAAK;YAC/B;gBAAE,OAAO;gBAAO,UAAU;YAAK;YAC/B;gBAAE,OAAO;gBAAO,UAAU;YAAK;YAC/B;gBAAE,OAAO;gBAAO,UAAU;YAAM;SACjC;IACH;AACF","debugId":null}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ABHINAV%20KUMAR/winback-engine/frontend/lib/api.ts"],"sourcesContent":["// Mock API implementation\nimport { mockApi } from './mock-api';\nimport { getDashboard } from './mock-dashboard';\n\n// Mock API client that uses the mock data\nexport const membersApi = {\n  getMembers: mockApi.members.getMembers,\n  getMember: mockApi.members.getMember,\n  updateMember: async (id: string, data: any) => {\n    // In a real implementation, this would update the data\n    console.log('Mock updateMember:', { id, data });\n    return { data };\n  },\n  deleteMember: async (id: string) => {\n    // In a real implementation, this would delete the data\n    console.log('Mock deleteMember:', id);\n    return { data: { success: true } };\n  },\n};\n\nexport const campaignsApi = {\n  getCampaigns: async () => {\n    console.log('Mock getCampaigns');\n    return { data: [] };\n  },\n  createCampaign: async (data: any) => {\n    console.log('Mock createCampaign:', data);\n    return { data };\n  },\n  updateCampaign: async (id: string, data: any) => {\n    console.log('Mock updateCampaign:', { id, data });\n    return { data };\n  },\n  deleteCampaign: async (id: string) => {\n    console.log('Mock deleteCampaign:', id);\n    return { data: { success: true } };\n  },\n};\n\nexport const exitSurveysApi = {\n  getSurveys: async () => {\n    console.log('Mock getSurveys');\n    return { data: [] };\n  },\n  submitSurvey: async (data: any) => {\n    console.log('Mock submitSurvey:', data);\n    return { data };\n  },\n  getSurvey: async (id: string) => {\n    console.log('Mock getSurvey:', id);\n    return { data: null };\n  },\n};\n\n// Export the dashboard function directly\nexport { getDashboard };\n\n\n// No default export needed for mock implementation\n"],"names":[],"mappings":"AAAA,0BAA0B;;;;;;;;;AAC1B;AACA;;;AAGO,MAAM,aAAa;IACxB,YAAY,yIAAO,CAAC,OAAO,CAAC,UAAU;IACtC,WAAW,yIAAO,CAAC,OAAO,CAAC,SAAS;IACpC,cAAc,OAAO,IAAY;QAC/B,uDAAuD;QACvD,QAAQ,GAAG,CAAC,sBAAsB;YAAE;YAAI;QAAK;QAC7C,OAAO;YAAE;QAAK;IAChB;IACA,cAAc,OAAO;QACnB,uDAAuD;QACvD,QAAQ,GAAG,CAAC,sBAAsB;QAClC,OAAO;YAAE,MAAM;gBAAE,SAAS;YAAK;QAAE;IACnC;AACF;AAEO,MAAM,eAAe;IAC1B,cAAc;QACZ,QAAQ,GAAG,CAAC;QACZ,OAAO;YAAE,MAAM,EAAE;QAAC;IACpB;IACA,gBAAgB,OAAO;QACrB,QAAQ,GAAG,CAAC,wBAAwB;QACpC,OAAO;YAAE;QAAK;IAChB;IACA,gBAAgB,OAAO,IAAY;QACjC,QAAQ,GAAG,CAAC,wBAAwB;YAAE;YAAI;QAAK;QAC/C,OAAO;YAAE;QAAK;IAChB;IACA,gBAAgB,OAAO;QACrB,QAAQ,GAAG,CAAC,wBAAwB;QACpC,OAAO;YAAE,MAAM;gBAAE,SAAS;YAAK;QAAE;IACnC;AACF;AAEO,MAAM,iBAAiB;IAC5B,YAAY;QACV,QAAQ,GAAG,CAAC;QACZ,OAAO;YAAE,MAAM,EAAE;QAAC;IACpB;IACA,cAAc,OAAO;QACnB,QAAQ,GAAG,CAAC,sBAAsB;QAClC,OAAO;YAAE;QAAK;IAChB;IACA,WAAW,OAAO;QAChB,QAAQ,GAAG,CAAC,mBAAmB;QAC/B,OAAO;YAAE,MAAM;QAAK;IACtB;AACF;;CAMA,mDAAmD","debugId":null}},
    {"offset": {"line": 234, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ABHINAV%20KUMAR/winback-engine/frontend/app/%28app%29/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useQuery } from \"@tanstack/react-query\";\nimport { Search, ChevronDown, LogOut, HelpCircle, User } from \"lucide-react\";\nimport { useState, useRef, useEffect } from \"react\";\nimport { getDashboard, membersApi } from \"@/lib/api\";\nimport { Member } from \"@/lib/types\";\nimport {\n  BarChart, Bar, XAxis, YAxis, ResponsiveContainer, Cell,\n  LineChart, Line, Tooltip\n} from \"recharts\";\nimport Link from \"next/link\";\n\nexport default function DashboardPage() {\n  // All hooks must be called at the top level, before any conditional returns\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n  \n  // Move useEffect before any conditional returns\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsDropdownOpen(false);\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, []);\n\n  // Data fetching hooks\n  const { data: dashboard, isLoading: loadingDashboard } = useQuery({\n    queryKey: ['dashboard'],\n    queryFn: getDashboard\n  });\n  \n  const { data: membersResponse, isLoading: loadingMembers } = useQuery({\n    queryKey: ['members'],\n    queryFn: membersApi.getMembers\n  });\n\n  // Loading and error states\n  if (loadingDashboard || loadingMembers) return <div className=\"p-8\">Loading...</div>;\n  if (!dashboard) return <div className=\"p-8\">Unable to load dashboard data</div>;\n\n  // Data processing after we know we have data\n  const { metrics, distribution, churnTrend } = dashboard;\n  const members = membersResponse?.data || [];\n  const atRiskMembers = members.filter((m: Member) => m.status && m.status.toLowerCase() !== \"healthy\").slice(0, 5);\n\n  const userInitials = 'AK'; // Replace with actual user initials\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header with Search and User Menu */}\n      <div className=\"flex items-center justify-between gap-4\">\n        {/* Welcome Message */}\n        <div>\n          <h1 className=\"text-2xl font-bold text-black\">Welcome back, Creator ðŸ‘‹</h1>\n          <p className=\"text-black-500 text-sm\">Here's how your members are doing this month.</p>\n        </div>\n\n        {/* Search and User Menu Container */}\n        <div className=\"flex items-center gap-4\">\n          {/* Search Bar */}\n          <div className=\"w-64\">\n            <div className=\"flex items-center bg-white p-2 rounded-xl border border-gray-200 shadow-sm focus-within:ring-2 focus-within:ring-yellow-400 focus-within:border-yellow-400 transition-all\">\n              <input\n                type=\"text\"\n                placeholder=\"Search...\"\n                className=\"w-full px-3 py-1.5 outline-none text-gray-700 placeholder-gray-400 bg-transparent text-sm\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n              />\n              <button className=\"p-1 text-gray-500 hover:text-gray-700 transition-colors\">\n                <Search className=\"w-4 h-4\" />\n              </button>\n            </div>\n          </div>\n\n          {/* User Menu */}\n          <div className=\"relative\" ref={dropdownRef}>\n            <button \n              onClick={() => setIsDropdownOpen(!isDropdownOpen)}\n              className=\"flex items-center gap-2 p-1.5 rounded-lg hover:bg-gray-100 transition-colors\"\n              aria-haspopup=\"true\"\n              aria-expanded={isDropdownOpen}\n            >\n              <div className=\"w-9 h-9 rounded-full bg-yellow-400 flex items-center justify-center text-gray-800 font-medium text-sm\">\n                {userInitials}\n              </div>\n              <ChevronDown className={`w-4 h-4 text-gray-600 transition-transform ${isDropdownOpen ? 'rotate-180' : ''}`} />\n            </button>\n\n            {/* Dropdown Menu */}\n            {isDropdownOpen && (\n              <div className=\"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-200 z-10 overflow-hidden\">\n                <div className=\"p-2\">\n                  <div className=\"px-4 py-3 border-b border-gray-100\">\n                    <p className=\"text-sm font-medium text-gray-900\">Abhinav Kumar</p>\n                    <p className=\"text-xs text-gray-500 truncate\">abhinav@example.com</p>\n                  </div>\n                  <div className=\"py-1\">\n                    <a\n                      href=\"#\"\n                      className=\"flex items-center px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 rounded-lg mx-1\"\n                    >\n                      <User className=\"w-4 h-4 mr-3 text-gray-500\" />\n                      Your Profile\n                    </a>\n                    <a\n                      href=\"#\"\n                      className=\"flex items-center px-4 py-2.5 text-sm text-gray-700 hover:bg-gray-50 rounded-lg mx-1\"\n                    >\n                      <HelpCircle className=\"w-4 h-4 mr-3 text-gray-500\" />\n                      Help & Support\n                    </a>\n                  </div>\n                  <div className=\"py-1 border-t border-gray-100\">\n                    <button\n                      onClick={() => {\n                        // Handle logout logic here\n                        console.log('Logout clicked');\n                        setIsDropdownOpen(false);\n                      }}\n                      className=\"w-full flex items-center px-4 py-2.5 text-sm text-left text-red-600 hover:bg-red-50 rounded-lg mx-1\"\n                    >\n                      <LogOut className=\"w-4 h-4 mr-3\" />\n                      Sign out\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* TOP METRICS */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <MetricCard label=\"Churn Rate\" value={`${(metrics.churnRate * 100).toFixed(1)}%`} />\n        <MetricCard label=\"At-Risk Members\" value={metrics.atRiskCount} />\n        <MetricCard label=\"Avg Health Score\" value={metrics.avgHealthScore} />\n        <MetricCard label=\"Revenue Saved\" value={`$${metrics.revenueSaved.toLocaleString()}`} />\n      </div>\n\n      {/* CHARTS */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        \n        {/* Health Breakdown */}\n        <Card title={<span className=\"font-bold\">Member Health Breakdown</span>}>\n          <ResponsiveContainer width=\"100%\" height={240}>\n            <BarChart data={[\n              { name: \"Healthy\", value: distribution.healthy },\n              { name: \"At Risk\", value: distribution.at_risk },\n              { name: \"Critical\", value: distribution.critical },\n            ]}>\n              <XAxis dataKey=\"name\" />\n              <YAxis />\n              <Tooltip />\n              <Bar \n                dataKey=\"value\" \n                fill=\"#8884d8\"\n                radius={[4, 4, 0, 0]}\n              >\n                {[\n                  { name: 'Healthy', fill: '#4CAF50' },\n                  { name: 'At Risk', fill: '#FFC107' },\n                  { name: 'Critical', fill: '#F44336' }\n                ].map((entry, index) => (\n                  <Cell key={`cell-${index}`} fill={entry.fill} />\n                ))}\n              </Bar>\n            </BarChart>\n          </ResponsiveContainer>\n        </Card>\n\n        {/* Churn Trend */}\n        <Card title={<span className=\"font-bold\">Churn Trend</span>}>\n          <ResponsiveContainer width=\"100%\" height={240}>\n            <LineChart data={churnTrend}>\n              <XAxis dataKey=\"month\" />\n              <YAxis />\n              <Tooltip />\n              <Line type=\"monotone\" dataKey=\"churnPct\" stroke=\"#2563eb\" strokeWidth={2} />\n            </LineChart>\n          </ResponsiveContainer>\n        </Card>\n\n      </div>\n\n      {/* At Risk Table */}\n      <Card title={<span className=\"font-bold\">At-Risk Members Who Need Attention</span>}>\n        <table className=\"w-full text-sm\">\n          <thead>\n            <tr className=\"text-gray-500 border-b\">\n              <th className=\"text-left py-2\">Name</th>\n              <th>Health</th>\n              <th>LTV</th>\n              <th>Last Login</th>\n              <th>Next Renewal</th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            {atRiskMembers.map((member: Member) => (\n              <tr key={member.id} className=\"border-b\">\n                <td className=\"py-2\">{member.name}</td>\n                <td className=\"text-center\">{member.health_score}</td>\n                <td className=\"text-center\">${member.lifetime_value}</td>\n                <td className=\"text-center\">{member.last_login_at || \"-\"}</td>\n                <td className=\"text-center\">{member.next_renewal_date || \"-\"}</td>\n                <td>\n                  <Link href={`/members/${member.id}`} className=\"text-blue-600 hover:underline\">\n                    Message\n                  </Link>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n\n        <div className=\"flex justify-between mt-6 pt-4 border-t border-gray-100\">\n          <Link \n            href=\"/members\" \n            className=\"px-4 py-2.5 bg-white border border-gray-200 text-gray-700 font-medium rounded-lg hover:bg-gray-50 hover:border-gray-300 transition-all flex items-center gap-2\"\n          >\n            <span>View all members</span>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n            </svg>\n          </Link>\n          <Link \n            href=\"/campaigns\" \n            className=\"px-5 py-2.5 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-all flex items-center gap-2 shadow-md hover:shadow-lg\"\n          >\n            <span>Run win-back campaign</span>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M14 5l7 7m0 0l-7 7m7-7H3\" />\n            </svg>\n          </Link>\n        </div>\n      </Card>\n    </div>\n  );\n}\n\n// Reusable UI helpers\n\ninterface CardProps {\n  title: React.ReactNode;\n  children: React.ReactNode;\n}\n\nfunction Card({ title, children }: CardProps) {\n  return (\n    <div className=\"bg-white p-6 rounded-xl shadow-sm border border-gray-100\">\n      <h3 className=\"text-lg font-bold text-gray-900 mb-4\">{title}</h3>\n      {children}\n    </div>\n  );\n}\n\ninterface MetricCardProps {\n  label: string;\n  value: string | number;\n}\n\nfunction MetricCard({ label, value }: MetricCardProps) {\n  return (\n    <div className=\"p-5 bg-white border rounded-xl shadow-sm\">\n      <div className=\"text-sm text-gray-500\">{label}</div>\n      <div className=\"text-2xl font-semibold mt-2\">{value}</div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}